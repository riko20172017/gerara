services:
  certgen:
    image: alpine/openssl
    command: >
      req -x509 -nodes -days 365
      -newkey rsa:2048
      -keyout /certs/localhost.key
      -out /certs/localhost.crt
      -subj "/CN=localhost"
    volumes:
      - certs:/certs
    restart: "no"

volumes:
  certs:
